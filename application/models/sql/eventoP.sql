
use educayso_facae;
drop view eventoP;
create view eventoP as select evento.idevento,evento.titulo,evento.detalle,evento.fechacreacion,evento.fechafinaliza,persona.idpersona,concat(COALESCE(persona.apellidos,''),"  ",COALESCE(persona.nombres,'')) as elparticipante,participante.idparticipante,participante.iddocumento as iddocumento2,evento_estado.nombre as estado,institucion.nombre as lainstitucion,certificado.iddocumento,certificado.idtipodocu,certificado.size_nombre,certificado.posi_nomb_x, certificado.posi_nomb_y,certificado.posi_codigo_x,certificado.posi_codigo_y,certificado.posi_fecha_x, certificado.posi_fecha_y,certificado.ancho_x,certificado.alto_y,certificado.correohead,certificado.correofoot,certificado.correosubject, firma1_x,firma1_y, firma2_x,firma2_y,firma3_x,firma3_y,texto1,posi_texto1_x,posi_texto1_y,ancho_texto1,alto_texto1,font_size_texto1, documento.archivopdf,documento.idordenador,ordenador.nombre as elordenador,documento.iddirectorio,directorio.ruta from evento,evento_estado,institucion,participante,persona,certificado,documento,ordenador,directorio where evento.idevento_estado=evento_estado.idevento_estado and evento.idinstitucion=institucion.idinstitucion and participante.idevento=evento.idevento and participante.idpersona=persona.idpersona and evento.idevento=certificado.idevento and certificado.iddocumento=documento.iddocumento and documento.idordenador=ordenador.idordenador and documento.iddirectorio=directorio.iddirectorio;
