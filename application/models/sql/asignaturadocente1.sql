
use educayso_facae;
drop view asignaturadocente1;
create view asignaturadocente1 as select asdo.idasignaturadocente , asdo.iddistributivodocente, hodo.iddocente,concat(COALESCE(peac.nombrecorto,'')," - ", COALESCE(pers.apellidos,''),"  ",COALESCE(pers.nombres,'')) as eldistributivodocente, dist.idperiodoacademico,peac.nombrecorto as elperiodoacademico,asig.idasignatura,concat(COALESCE(arco.nombre,'')," - ",COALESCE(asig.nombre,'')) as laasignatura, para.nombre as paralelo,niac.nombre as nivel,(select round(sum(jodo.duracionminutos)/60,1) from jornadadocente jodo where jodo.idasignaturadocente=asdo.idasignaturadocente) as horas  from asignaturadocente asdo,distributivo dist, distributivodocente hodo, periodoacademico peac, docente doce, persona pers,asignatura asig,paralelo para,nivelacademico niac,areaconocimiento arco  where hodo.iddistributivo=dist.iddistributivo and asdo.iddistributivodocente=hodo.iddistributivodocente and hodo.iddocente=doce.iddocente and doce.idpersona=pers.idpersona and dist.idperiodoacademico=peac.idperiodoacademico and asdo.idasignatura=asig.idasignatura and asdo.idparalelo=para.idparalelo and asig.idnivelacademico=niac.idnivelacademico and asig.idareaconocimiento=arco.idareaconocimiento;
